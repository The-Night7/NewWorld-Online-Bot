2025-12-24 23:28:15,526 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-24 23:28:15,532 - discord.client - INFO - logging in using static token
2025-12-24 23:28:16,184 - bofuri - INFO - Configuration du bot en cours...
2025-12-24 23:28:16,200 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-24 23:28:16,202 - bofuri.db - INFO - Table players créée avec succès
2025-12-24 23:28:16,202 - bofuri.db - INFO - Table combats créée avec succès
2025-12-24 23:28:16,203 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-24 23:28:16,204 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-24 23:28:16,204 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-24 23:28:16,205 - bofuri - INFO - Initialisation des objets de base...
2025-12-24 23:28:16,206 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-24 23:28:16,207 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-24 23:28:16,210 - bofuri - INFO - Ajout des cogs...
2025-12-24 23:28:16,221 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-24 23:28:16,450 - bofuri - INFO - Bot configuré avec succès!
2025-12-24 23:28:16,914 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: a7685a00a15a8108e8f9dbeebcd70eb0).
2025-12-24 23:28:55,403 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-24 23:28:55,408 - bofuri.combat - INFO - Combat ID 1 créé avec succès dans le salon 1398617728474153061
2025-12-24 23:28:56,099 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-24 23:29:04,411 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453514811840135220
2025-12-24 23:29:04,412 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252FB45B0>
2025-12-24 23:29:04,413 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:29:19,724 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453514811840135220
2025-12-24 23:29:19,745 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252FB7310>
2025-12-24 23:29:19,757 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:29:47,546 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-24 23:29:47,553 - bofuri.combat - INFO - Combat ID 2 créé avec succès dans le salon 1398617728474153061
2025-12-24 23:29:48,461 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-24 23:30:25,633 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453515030996975839
2025-12-24 23:30:25,634 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252FB4490>
2025-12-24 23:30:25,634 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:31:25,196 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453515030996975839
2025-12-24 23:31:25,197 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252FB4430>
2025-12-24 23:31:25,197 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:31:37,147 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453515030996975839
2025-12-24 23:31:37,149 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252FB4430>
2025-12-24 23:31:37,149 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:32:11,746 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453515030996975839
2025-12-24 23:32:11,748 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252FB44C0>
2025-12-24 23:32:11,749 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:33:02,484 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453515030996975839
2025-12-24 23:33:02,485 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252FB5D80>
2025-12-24 23:33:02,486 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:39:23,457 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453515030996975839
2025-12-24 23:39:23,460 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252F65D80>
2025-12-24 23:39:23,463 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:39:23,466 - bofuri.combat - INFO - Fermeture du combat dans le fil 1453515030996975839 par 484850911622070284
2025-12-24 23:39:23,885 - bofuri.combat - INFO - Tentative de fermeture du combat dans le fil 1453515030996975839
2025-12-24 23:39:23,887 - bofuri.combat - INFO - Résultat de la requête pour trouver le combat actif: <sqlite3.Row object at 0x0000029252F676A0>
2025-12-24 23:39:23,887 - bofuri.combat - INFO - Fermeture du combat ID 2 dans le fil 1453515030996975839 (salon 1398617728474153061)
2025-12-24 23:39:23,891 - bofuri.combat - INFO - Combat ID 2 fermé avec succès
2025-12-24 23:39:34,785 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453514811840135220
2025-12-24 23:39:34,787 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000029252F67730>
2025-12-24 23:39:34,788 - bofuri.combat - INFO - Combat actif: True
2025-12-24 23:39:34,788 - bofuri.combat - INFO - Fermeture du combat dans le fil 1453514811840135220 par 484850911622070284
2025-12-24 23:39:35,075 - bofuri.combat - INFO - Tentative de fermeture du combat dans le fil 1453514811840135220
2025-12-24 23:39:35,077 - bofuri.combat - INFO - Résultat de la requête pour trouver le combat actif: <sqlite3.Row object at 0x0000029252F65B70>
2025-12-24 23:39:35,077 - bofuri.combat - INFO - Fermeture du combat ID 1 dans le fil 1453514811840135220 (salon 1398617728474153061)
2025-12-24 23:39:35,081 - bofuri.combat - INFO - Combat ID 1 fermé avec succès
2025-12-24 23:39:41,873 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453509808325132379
2025-12-24 23:39:41,874 - bofuri.combat - INFO - Résultat de la requête: None
2025-12-24 23:39:41,875 - bofuri.combat - INFO - Combat actif: False
2025-12-25 01:23:26,827 - bofuri - ERROR - Erreur lors de l'exécution de la commande inventory: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\character.py", line 99, in inventory
    inventory_items = await get_inventory(self.bot.db, user_id)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 215, in get_inventory
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM inventories WHERE character_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 872, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'inventory' raised an exception: TypeError: 'coroutine' object does not support the asynchronous context manager protocol

2025-12-25 01:26:55,678 - bofuri - ERROR - Erreur lors de l'exécution de la commande inventory: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\character.py", line 99, in inventory
    inventory_items = await get_inventory(self.bot.db, user_id)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 215, in get_inventory
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM inventories WHERE character_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 872, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'inventory' raised an exception: TypeError: 'coroutine' object does not support the asynchronous context manager protocol

2025-12-25 01:27:12,208 - bofuri - ERROR - Erreur lors de l'exécution de la commande inventory: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\character.py", line 99, in inventory
    inventory_items = await get_inventory(self.bot.db, user_id)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 215, in get_inventory
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM inventories WHERE character_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 872, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'inventory' raised an exception: TypeError: 'coroutine' object does not support the asynchronous context manager protocol

2025-12-25 02:13:49,759 - bofuri - ERROR - Erreur lors de l'exécution de la commande inventory: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\character.py", line 99, in inventory
    inventory_items = await get_inventory(self.bot.db, user_id)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 215, in get_inventory
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM inventories WHERE character_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 872, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'inventory' raised an exception: TypeError: 'coroutine' object does not support the asynchronous context manager protocol

2025-12-25 03:02:12,249 - discord.gateway - INFO - Shard ID None has successfully RESUMED session a7685a00a15a8108e8f9dbeebcd70eb0.
2025-12-25 11:59:53,308 - discord.gateway - WARNING - Shard ID None has stopped responding to the gateway. Closing and restarting.
2025-12-25 11:59:54,327 - discord.gateway - INFO - Shard ID None session has been invalidated.
2025-12-25 12:00:00,009 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: c19cc052dd67cf0f7a768d1d1d9eb60f).
2025-12-25 12:46:17,977 - discord.client - ERROR - Attempting a reconnect in 0.22s
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\connector.py", line 1512, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\connector.py", line 1128, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\connector.py", line 1159, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 933, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        None, getaddr_func, host, port, family, type, proto, flags)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\client.py", line 664, in connect
    self.ws = await asyncio.wait_for(coro, timeout=60.0)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\asyncio\tasks.py", line 507, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\gateway.py", line 374, in from_client
    socket = await client.http.ws_connect(str(url))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\http.py", line 550, in ws_connect
    return await self.__session.ws_connect(url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\client.py", line 1061, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
    ...<11 lines>...
    )
    ^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        req, traces=traces, timeout=real_timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\connector.py", line 622, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\connector.py", line 1189, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\aiohttp\connector.py", line 1518, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host gateway-us-east1-d.discord.gg:443 ssl:default [getaddrinfo failed]
2025-12-25 12:46:20,679 - discord.gateway - INFO - Shard ID None session has been invalidated.
2025-12-25 12:46:26,352 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: d23d481ab79eb18c4ec73f8f3a98db1f).
2025-12-25 12:50:54,080 - bofuri - ERROR - Erreur lors de l'exécution de la commande recolte: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\professions.py", line 58, in recolte
    char = await get_character(self.bot.db, interaction.user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'recolte' raised an exception: IndexError: No item with that key

2025-12-25 13:46:48,632 - discord.gateway - INFO - Shard ID None has successfully RESUMED session d23d481ab79eb18c4ec73f8f3a98db1f.
2025-12-25 14:11:35,630 - bofuri - ERROR - Erreur lors de l'exécution de la commande recolte: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\professions.py", line 58, in recolte
    char = await get_character(self.bot.db, interaction.user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'recolte' raised an exception: IndexError: No item with that key

2025-12-25 14:38:28,491 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 14:38:28,495 - discord.client - INFO - logging in using static token
2025-12-25 14:38:29,076 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 14:38:29,101 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 14:38:29,102 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 14:38:29,102 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 14:38:29,103 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 14:38:29,104 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 14:38:29,104 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 14:38:29,105 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 14:38:29,107 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 14:38:29,107 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 14:38:29,116 - bofuri - INFO - Ajout des cogs...
2025-12-25 14:38:29,140 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 14:38:29,379 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 14:38:29,871 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 8f70d3ea0161c8caf9b69a171df6b68b).
2025-12-25 14:38:45,824 - bofuri - ERROR - Erreur lors de l'exécution de la commande recolte: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\professions.py", line 58, in recolte
    char = await get_character(self.bot.db, interaction.user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'recolte' raised an exception: IndexError: No item with that key

2025-12-25 14:39:53,098 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 14:39:53,103 - discord.client - INFO - logging in using static token
2025-12-25 14:39:53,784 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 14:39:53,807 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 14:39:53,808 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 14:39:53,809 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 14:39:53,811 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 14:39:53,812 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 14:39:53,815 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 14:39:53,815 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 14:39:53,819 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 14:39:53,819 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 14:39:53,824 - bofuri - INFO - Ajout des cogs...
2025-12-25 14:39:53,836 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 14:39:54,066 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 14:39:54,673 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: e1b3b249b2900756662267cdb1208540).
2025-12-25 14:40:02,967 - bofuri - ERROR - Erreur lors de l'exécution de la commande recolte: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\professions.py", line 58, in recolte
    char = await get_character(self.bot.db, interaction.user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'recolte' raised an exception: IndexError: No item with that key

2025-12-25 14:42:42,603 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 14:42:42,605 - discord.client - INFO - logging in using static token
2025-12-25 14:42:43,134 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 14:42:43,153 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 14:42:43,156 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 14:42:43,159 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 14:42:43,160 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 14:42:43,162 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 14:42:43,164 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 14:42:43,165 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 14:42:43,171 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 14:42:43,172 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 14:42:43,177 - bofuri - INFO - Ajout des cogs...
2025-12-25 14:42:43,195 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 14:42:43,433 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 14:42:43,892 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 127bf3d569db0f8e3484a5affb03b261).
2025-12-25 14:42:52,942 - bofuri - ERROR - Erreur lors de l'exécution de la commande recolte: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\professions.py", line 59, in recolte
    char = await get_character(self.bot.db, interaction.user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'recolte' raised an exception: IndexError: No item with that key

2025-12-25 14:45:32,698 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 14:45:32,703 - discord.client - INFO - logging in using static token
2025-12-25 14:45:33,289 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 14:45:33,506 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 14:45:33,508 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 14:45:33,508 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 14:45:33,509 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 14:45:33,510 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 14:45:33,510 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 14:45:33,511 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 14:45:33,513 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 14:45:33,513 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 14:45:33,519 - bofuri - INFO - Ajout des cogs...
2025-12-25 14:45:33,529 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 14:45:33,774 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 14:45:34,301 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: dfe995c35ef7f61997ed0b93b2fb549e).
2025-12-25 14:47:17,575 - bofuri - ERROR - Erreur lors de l'exécution de la commande recolte: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\professions.py", line 59, in recolte
    char = await get_character(self.bot.db, interaction.user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'recolte' raised an exception: IndexError: No item with that key

2025-12-25 19:16:03,807 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 19:16:03,818 - discord.client - INFO - logging in using static token
2025-12-25 19:16:04,457 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 19:16:04,471 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 19:16:04,472 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 19:16:04,473 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 19:16:04,474 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 19:16:04,475 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 19:16:04,477 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 19:16:04,477 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 19:16:04,482 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 19:16:04,482 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 19:16:04,488 - bofuri - INFO - Ajout des cogs...
2025-12-25 19:16:04,504 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 19:16:04,786 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 19:16:05,219 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 5c273891abd2c8a5e537bc38c58d5f06).
2025-12-25 19:16:24,243 - bofuri - ERROR - Erreur lors de l'exécution de la commande recolte: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\professions.py", line 59, in recolte
    char = await get_character(self.bot.db, interaction.user.id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'recolte' raised an exception: IndexError: No item with that key

2025-12-25 19:20:46,784 - bofuri - ERROR - Erreur lors de l'exécution de la commande profile: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\character.py", line 28, in profile
    character = await get_or_create_character(self.bot.db, user_id, interaction.user.display_name)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 141, in get_or_create_character
    character = await get_character(db, user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'profile' raised an exception: IndexError: No item with that key

2025-12-25 19:20:53,419 - bofuri - ERROR - Erreur lors de l'exécution de la commande profile: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\character.py", line 28, in profile
    character = await get_or_create_character(self.bot.db, user_id, interaction.user.display_name)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 141, in get_or_create_character
    character = await get_character(db, user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 136, in get_character
    return await Character.from_db(db, user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\character.py", line 63, in from_db
    skill_points=row['skill_points'],
                 ~~~^^^^^^^^^^^^^^^^
IndexError: No item with that key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'profile' raised an exception: IndexError: No item with that key

2025-12-25 19:29:36,561 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 19:29:36,563 - discord.client - INFO - logging in using static token
2025-12-25 19:29:37,166 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 19:29:37,169 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 19:29:37,170 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 19:29:37,171 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 19:29:37,172 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 19:29:37,173 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 19:29:37,174 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 19:29:37,175 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 19:29:37,178 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 19:29:37,178 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 19:29:37,183 - bofuri - INFO - Ajout des cogs...
2025-12-25 19:32:40,089 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 19:32:40,091 - discord.client - INFO - logging in using static token
2025-12-25 19:32:40,602 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 19:32:40,605 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 19:32:40,606 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 19:32:40,606 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 19:32:40,607 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 19:32:40,608 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 19:32:40,609 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 19:32:40,610 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 19:32:40,612 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 19:32:40,613 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 19:32:40,619 - bofuri - INFO - Ajout des cogs...
2025-12-25 19:36:41,841 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 19:36:41,842 - discord.client - INFO - logging in using static token
2025-12-25 19:36:42,398 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 19:36:42,401 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 19:36:42,402 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 19:36:42,403 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 19:36:42,404 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 19:36:42,405 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 19:36:42,406 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 19:36:42,406 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 19:36:42,408 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 19:36:42,409 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 19:36:42,412 - bofuri - INFO - Ajout des cogs...
2025-12-25 19:36:42,421 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 19:36:42,731 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 19:36:43,391 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: fc696496d0533baa143dfb77bf423cf0).
2025-12-25 19:40:21,020 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-25 19:40:21,030 - bofuri.combat - INFO - Combat ID 1 créé avec succès dans le salon 1398617728474153061
2025-12-25 19:40:21,714 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-25 19:40:36,308 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453819679230660618
2025-12-25 19:40:36,309 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000001B1A705C910>
2025-12-25 19:40:36,309 - bofuri.combat - INFO - Combat actif: True
2025-12-25 19:41:00,331 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453819679230660618
2025-12-25 19:41:00,332 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000001B1A705F400>
2025-12-25 19:41:00,333 - bofuri.combat - INFO - Combat actif: True
2025-12-25 19:55:32,194 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 19:55:32,195 - discord.client - INFO - logging in using static token
2025-12-25 19:55:32,741 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 19:55:32,744 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 19:55:32,745 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 19:55:32,746 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 19:55:32,747 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 19:55:32,748 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 19:55:32,749 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 19:55:32,750 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 19:55:32,754 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 19:55:32,754 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 19:55:32,759 - bofuri - INFO - Ajout des cogs...
2025-12-25 19:55:32,767 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 19:55:32,992 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 19:55:33,448 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: a9075889d6e2145ed103a86528ca0be6).
2025-12-25 19:55:40,594 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453819679230660618
2025-12-25 19:55:40,596 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000026E6D55C0A0>
2025-12-25 19:55:40,596 - bofuri.combat - INFO - Combat actif: True
2025-12-25 19:55:40,596 - bofuri.combat - INFO - Fermeture du combat dans le fil 1453819679230660618 par 484850911622070284
2025-12-25 19:55:40,895 - bofuri.combat - INFO - Tentative de fermeture du combat dans le fil 1453819679230660618
2025-12-25 19:55:40,896 - bofuri.combat - INFO - Résultat de la requête pour trouver le combat actif: <sqlite3.Row object at 0x0000026E6B5045B0>
2025-12-25 19:55:40,897 - bofuri.combat - INFO - Fermeture du combat ID 1 dans le fil 1453819679230660618 (salon 1398617728474153061)
2025-12-25 19:55:40,902 - bofuri.combat - INFO - Combat ID 1 fermé avec succès
2025-12-25 19:55:57,596 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-25 19:55:57,605 - bofuri.combat - INFO - Combat ID 2 créé avec succès dans le salon 1398617728474153061
2025-12-25 19:55:58,401 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-25 19:56:14,390 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453823607984750774
2025-12-25 19:56:14,391 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000026E6EB8ACE0>
2025-12-25 19:56:14,391 - bofuri.combat - INFO - Combat actif: True
2025-12-25 19:56:31,895 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453823607984750774
2025-12-25 19:56:31,896 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000026E6EB8B1F0>
2025-12-25 19:56:31,896 - bofuri.combat - INFO - Combat actif: True
2025-12-25 19:57:38,557 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453823607984750774
2025-12-25 19:57:38,558 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000026E6EB89D20>
2025-12-25 19:57:38,558 - bofuri.combat - INFO - Combat actif: True
2025-12-25 19:57:38,559 - bofuri.combat - INFO - Fermeture du combat dans le fil 1453823607984750774 par 484850911622070284
2025-12-25 19:57:39,099 - bofuri.combat - INFO - Tentative de fermeture du combat dans le fil 1453823607984750774
2025-12-25 19:57:39,101 - bofuri.combat - INFO - Résultat de la requête pour trouver le combat actif: <sqlite3.Row object at 0x0000026E6EB8BA60>
2025-12-25 19:57:39,101 - bofuri.combat - INFO - Fermeture du combat ID 2 dans le fil 1453823607984750774 (salon 1398617728474153061)
2025-12-25 19:57:39,108 - bofuri.combat - INFO - Combat ID 2 fermé avec succès
2025-12-25 19:59:15,513 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 19:59:15,514 - discord.client - INFO - logging in using static token
2025-12-25 19:59:16,196 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 19:59:16,200 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 19:59:16,201 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 19:59:16,203 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 19:59:16,204 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 19:59:16,205 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 19:59:16,205 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 19:59:16,205 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 19:59:16,207 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 19:59:16,207 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 19:59:16,211 - bofuri - INFO - Ajout des cogs...
2025-12-25 19:59:16,215 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 19:59:16,420 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 19:59:16,931 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 6e20d078370d00c8515f47a061f14c4c).
2025-12-25 19:59:30,622 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-25 19:59:30,630 - bofuri.combat - INFO - Combat ID 3 créé avec succès dans le salon 1398617728474153061
2025-12-25 19:59:31,175 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-25 20:00:00,480 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453824500876447938
2025-12-25 20:00:00,481 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000012F3D751E70>
2025-12-25 20:00:00,482 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:02:08,581 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453824500876447938
2025-12-25 20:02:08,582 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x0000012F3D751E10>
2025-12-25 20:02:08,583 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:02:08,610 - bofuri - ERROR - Erreur lors de l'exécution de la commande mob_list: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\mobs.py", line 183, in mob_list
    await interaction.followup.send("## Mobs du fil\n" + "\n".join(lines))
                                                                   ^^^^^
UnboundLocalError: cannot access local variable 'lines' where it is not associated with a value

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'mob_list' raised an exception: UnboundLocalError: cannot access local variable 'lines' where it is not associated with a value

2025-12-25 20:04:06,027 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 20:04:06,029 - discord.client - INFO - logging in using static token
2025-12-25 20:04:07,125 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 20:04:07,132 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 20:04:07,132 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 20:04:07,133 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 20:04:07,134 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 20:04:07,135 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 20:04:07,135 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 20:04:07,136 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 20:04:07,138 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 20:04:07,138 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 20:04:07,142 - bofuri - INFO - Ajout des cogs...
2025-12-25 20:04:07,151 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 20:04:08,685 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 20:04:09,477 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: 2f513241839ed831e8c4af8ea66ce164).
2025-12-25 20:04:11,099 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453824500876447938
2025-12-25 20:04:11,100 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000002E2EAD78670>
2025-12-25 20:04:11,101 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:04:11,101 - bofuri.combat - INFO - Fermeture du combat dans le fil 1453824500876447938 par 484850911622070284
2025-12-25 20:04:11,476 - bofuri.combat - INFO - Tentative de fermeture du combat dans le fil 1453824500876447938
2025-12-25 20:04:11,477 - bofuri.combat - INFO - Résultat de la requête pour trouver le combat actif: <sqlite3.Row object at 0x000002E2EAD78340>
2025-12-25 20:04:11,477 - bofuri.combat - INFO - Fermeture du combat ID 3 dans le fil 1453824500876447938 (salon 1398617728474153061)
2025-12-25 20:04:11,482 - bofuri.combat - INFO - Combat ID 3 fermé avec succès
2025-12-25 20:04:19,988 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-25 20:04:19,995 - bofuri.combat - INFO - Combat ID 4 créé avec succès dans le salon 1398617728474153061
2025-12-25 20:04:20,775 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-25 20:04:29,513 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453825714976718983
2025-12-25 20:04:29,514 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000002E2EAD79BA0>
2025-12-25 20:04:29,514 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:10:36,500 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 20:10:36,501 - discord.client - INFO - logging in using static token
2025-12-25 20:10:37,064 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 20:10:37,073 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 20:10:37,074 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 20:10:37,075 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 20:10:37,075 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 20:10:37,076 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 20:10:37,077 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 20:10:37,077 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 20:10:37,080 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 20:10:37,080 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 20:10:37,086 - bofuri - INFO - Ajout des cogs...
2025-12-25 20:10:37,093 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 20:10:37,375 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 20:10:37,851 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: d859b172b6ce400a12b716e8744ced01).
2025-12-25 20:10:43,130 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453825714976718983
2025-12-25 20:10:43,134 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000002A736E286A0>
2025-12-25 20:10:43,135 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:10:43,543 - bofuri.initiative - ERROR - fetch_player_entity crash pour user_id=197791547255816193: 'coroutine' object does not support the asynchronous context manager protocol
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 402, in initiative
    ent = await fetch_player_entity(self.bot.db, int(uid))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat.py", line 17, in fetch_player_entity
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM characters WHERE user_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-12-25 20:10:43,546 - bofuri.initiative - ERROR - fetch_player_entity crash pour user_id=860810726985302036: 'coroutine' object does not support the asynchronous context manager protocol
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 402, in initiative
    ent = await fetch_player_entity(self.bot.db, int(uid))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat.py", line 17, in fetch_player_entity
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM characters WHERE user_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-12-25 20:10:43,547 - bofuri.initiative - ERROR - fetch_player_entity crash pour user_id=484850911622070284: 'coroutine' object does not support the asynchronous context manager protocol
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 402, in initiative
    ent = await fetch_player_entity(self.bot.db, int(uid))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat.py", line 17, in fetch_player_entity
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM characters WHERE user_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-12-25 20:10:50,681 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453825714976718983
2025-12-25 20:10:50,682 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000002A736E29FC0>
2025-12-25 20:10:50,682 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:10:50,682 - bofuri.combat - INFO - Fermeture du combat dans le fil 1453825714976718983 par 484850911622070284
2025-12-25 20:10:50,986 - bofuri.combat - INFO - Tentative de fermeture du combat dans le fil 1453825714976718983
2025-12-25 20:10:50,987 - bofuri.combat - INFO - Résultat de la requête pour trouver le combat actif: <sqlite3.Row object at 0x000002A736E2A9E0>
2025-12-25 20:10:50,987 - bofuri.combat - INFO - Fermeture du combat ID 4 dans le fil 1453825714976718983 (salon 1398617728474153061)
2025-12-25 20:10:50,993 - bofuri.combat - INFO - Combat ID 4 fermé avec succès
2025-12-25 20:10:58,492 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-25 20:10:58,501 - bofuri.combat - INFO - Combat ID 5 créé avec succès dans le salon 1398617728474153061
2025-12-25 20:10:59,406 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-25 20:11:08,397 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453827385882312850
2025-12-25 20:11:08,398 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000002A736E2BA90>
2025-12-25 20:11:08,398 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:11:08,403 - bofuri - ERROR - Erreur lors de l'exécution de la commande mob_list: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\mobs.py", line 183, in mob_list
    await interaction.followup.send("## Mobs du fil\n" + "\n".join(lines))
                                                                   ^^^^^
UnboundLocalError: cannot access local variable 'lines' where it is not associated with a value

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'mob_list' raised an exception: UnboundLocalError: cannot access local variable 'lines' where it is not associated with a value

2025-12-25 20:11:12,601 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453827385882312850
2025-12-25 20:11:12,604 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000002A736E2B9D0>
2025-12-25 20:11:12,605 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:11:12,892 - bofuri.initiative - ERROR - fetch_player_entity crash pour user_id=197791547255816193: 'coroutine' object does not support the asynchronous context manager protocol
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 402, in initiative
    ent = await fetch_player_entity(self.bot.db, int(uid))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat.py", line 17, in fetch_player_entity
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM characters WHERE user_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-12-25 20:11:12,894 - bofuri.initiative - ERROR - fetch_player_entity crash pour user_id=860810726985302036: 'coroutine' object does not support the asynchronous context manager protocol
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 402, in initiative
    ent = await fetch_player_entity(self.bot.db, int(uid))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat.py", line 17, in fetch_player_entity
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM characters WHERE user_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-12-25 20:11:12,895 - bofuri.initiative - ERROR - fetch_player_entity crash pour user_id=484850911622070284: 'coroutine' object does not support the asynchronous context manager protocol
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 402, in initiative
    ent = await fetch_player_entity(self.bot.db, int(uid))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat.py", line 17, in fetch_player_entity
    async with db.execute(
               ~~~~~~~~~~^
        "SELECT * FROM characters WHERE user_id = ?",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (user_id,)
        ^^^^^^^^^^
    ) as cursor:
    ^
TypeError: 'coroutine' object does not support the asynchronous context manager protocol
2025-12-25 20:16:59,756 - discord.client - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-12-25 20:16:59,758 - discord.client - INFO - logging in using static token
2025-12-25 20:17:00,379 - bofuri - INFO - Configuration du bot en cours...
2025-12-25 20:17:00,382 - bofuri.db - INFO - Base de données initialisée avec succès
2025-12-25 20:17:00,383 - bofuri.db - INFO - Table players créée avec succès
2025-12-25 20:17:00,384 - bofuri.db - INFO - Table combats créée avec succès
2025-12-25 20:17:00,385 - bofuri.db - INFO - Table combat_participants créée avec succès
2025-12-25 20:17:00,386 - bofuri.db - INFO - Table combat_logs créée avec succès
2025-12-25 20:17:00,387 - bofuri.db - INFO - Table combat_mobs créée avec succès
2025-12-25 20:17:00,388 - bofuri - INFO - Initialisation des objets de base...
2025-12-25 20:17:00,390 - bofuri.items - INFO - Initialisé 6 objets de base
2025-12-25 20:17:00,391 - bofuri - INFO - Découverte et enregistrement des mobs...
2025-12-25 20:17:00,395 - bofuri - INFO - Ajout des cogs...
2025-12-25 20:17:00,399 - bofuri - INFO - Synchronisation des commandes pour la guild 1364736698059063296...
2025-12-25 20:17:00,744 - bofuri - INFO - Bot configuré avec succès!
2025-12-25 20:17:01,312 - discord.gateway - INFO - Shard ID None has connected to Gateway (Session ID: f3b4199791230d0c2ec5cb0fa32e2936).
2025-12-25 20:17:07,928 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453827385882312850
2025-12-25 20:17:07,930 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000001D3661206A0>
2025-12-25 20:17:07,930 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:17:22,346 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453827385882312850
2025-12-25 20:17:22,348 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000001D3661203A0>
2025-12-25 20:17:22,350 - bofuri.combat - INFO - Combat actif: True
2025-12-25 20:17:22,351 - bofuri.combat - INFO - Fermeture du combat dans le fil 1453827385882312850 par 484850911622070284
2025-12-25 20:17:22,683 - bofuri.combat - INFO - Tentative de fermeture du combat dans le fil 1453827385882312850
2025-12-25 20:17:22,684 - bofuri.combat - INFO - Résultat de la requête pour trouver le combat actif: <sqlite3.Row object at 0x000001D366120EE0>
2025-12-25 20:17:22,685 - bofuri.combat - INFO - Fermeture du combat ID 5 dans le fil 1453827385882312850 (salon 1398617728474153061)
2025-12-25 20:17:22,689 - bofuri.combat - INFO - Combat ID 5 fermé avec succès
2025-12-25 20:17:38,463 - bofuri.combat - INFO - Tentative de création de combat dans le salon 1398617728474153061 par 484850911622070284
2025-12-25 20:17:38,470 - bofuri.combat - INFO - Combat ID 6 créé avec succès dans le salon 1398617728474153061
2025-12-25 20:17:39,712 - bofuri - ERROR - Erreur ajout créateur: Aucun combat actif trouvé pour ce fil.
2025-12-25 20:17:41,625 - bofuri.combat - ERROR - Erreur lors de la création du combat: 404 Not Found (error code: 10062): Unknown interaction
Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 237, in combat_start
    await interaction.response.send_message(f"Combat créé! Fil: {thread.mention}", ephemeral=False)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\interactions.py", line 855, in send_message
    await adapter.create_interaction_response(
    ...<6 lines>...
    )
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\webhook\async_.py", line 221, in request
    raise NotFound(response, data)
discord.errors.NotFound: 404 Not Found (error code: 10062): Unknown interaction
2025-12-25 20:17:41,883 - bofuri - ERROR - Erreur lors de l'exécution de la commande combat_start: Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 237, in combat_start
    await interaction.response.send_message(f"Combat créé! Fil: {thread.mention}", ephemeral=False)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\interactions.py", line 855, in send_message
    await adapter.create_interaction_response(
    ...<6 lines>...
    )
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\webhook\async_.py", line 221, in request
    raise NotFound(response, data)
discord.errors.NotFound: 404 Not Found (error code: 10062): Unknown interaction

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 857, in _do_call
    return await self._callback(self.binding, interaction, **params)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\PycharmProjects\NewWorld-Online-Bot\app\cogs\combat_session.py", line 253, in combat_start
    await interaction.response.send_message("Une erreur est survenue lors de la création du combat.", ephemeral=True)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\interactions.py", line 855, in send_message
    await adapter.create_interaction_response(
    ...<6 lines>...
    )
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\webhook\async_.py", line 221, in request
    raise NotFound(response, data)
discord.errors.NotFound: 404 Not Found (error code: 10062): Unknown interaction

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\tree.py", line 1310, in _call
    await command._invoke_with_namespace(interaction, namespace)
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 883, in _invoke_with_namespace
    return await self._do_call(interaction, transformed_values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\myria.MYRIAM_BENSAID\AppData\Local\Programs\Python\Python313\Lib\site-packages\discord\app_commands\commands.py", line 876, in _do_call
    raise CommandInvokeError(self, e) from e
discord.app_commands.errors.CommandInvokeError: Command 'combat_start' raised an exception: NotFound: 404 Not Found (error code: 10062): Unknown interaction

2025-12-25 20:17:42,067 - bofuri - ERROR - Impossible d'envoyer un message d'erreur à l'utilisateur
2025-12-25 20:17:51,671 - bofuri.combat - INFO - Vérification du combat actif dans le fil 1453829064224805068
2025-12-25 20:17:51,675 - bofuri.combat - INFO - Résultat de la requête: <sqlite3.Row object at 0x000001D365EAEB30>
2025-12-25 20:17:51,675 - bofuri.combat - INFO - Combat actif: True
